 <!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="koronavirusas, lietuva, lietuvoje,
Koronaviruso atveju kiekis lietuvoje, pasaulyje, kiekis, skaicius,
korono virusas, pandemija, 2020, Danas Mikelionis">
<meta name="author" content="Danas Mikelionis">
<meta name="description" content="Lentelė, rodanti
 kur kiek koronaviruso atvejų.">
<title>Korono viruso atvejai</title>
</head>

<body>
 <h1>Korono viruso atvejai (naudojausi: https://rapidapi.com/api-sports/api/covid-193).</h1>

 <h3 id="lithuania"></h3>

<input id="filter-countries" placeholder="Čia galite įvesti šalį"></input>
<table id="table">
<tr>
	<th>Šalis/Vieta</th>
	<th>Iš viso atvejų</th>
	<th>Iš viso mirčių</th>
	<th>Pasveiko</th>
</tr>
</table>

<pre id="history-lithuanian">           Istorija(Lietuva)
</pre>

<p>Naudojausi: https://rapidapi.com/api-sports/api/covid-193.</p>
</body>

</html>

<script>
	var countries = [{english: 'Afghanistan', lithuanian: 'Afganistanas'}, {english: 'Albania', lithuanian: 'Albanija'}, {english: 'Algeria', lithuanian: 'Alžyras'}, {english: 'All', lithuanian: 'Visos'}, {english: 'Andorra', lithuanian: 'Andora'}, {english: 'Angola', lithuanian: 'Angola'}, {english: 'Anguilla', lithuanian: 'Angilija'}, {english: 'Antigua-and-Barbuda', lithuanian: 'Antigva ir Barbuda'}, {english: 'Argentina', lithuanian: 'Argentina'}, {english: 'Armenia', lithuanian: 'Armėnija'}, {english: 'Aruba', lithuanian: 'Aruba'}, {english: 'Australia', lithuanian: 'Australija'}, {english: 'Austria', lithuanian: 'Austrija'}, {english: 'Azerbaijan', lithuanian: 'Azerbaidžanas'}, {english: 'Bahamas', lithuanian: 'Bahamos'}, {english: 'Bahrain', lithuanian: 'Bahreinas'}, {english: 'Bangladesh', lithuanian: 'Bangladešas'}, {english: 'Barbados', lithuanian: 'Barbadosas'}, {english: 'Belarus', lithuanian: 'Baltarusija'}, {english: 'Belgium', lithuanian: 'Belgija'}, {english: 'Belize', lithuanian: 'Belizas'}, {english: 'Benin', lithuanian: 'Beninas'}, {english: 'Bermuda', lithuanian: 'Bermudai'}, {english: 'Bhutan', lithuanian: 'Butanas'}, {english: 'Bolivia', lithuanian: 'Bolivija'}, {english: 'Bosnia-and-Herzegovina', lithuanian: 'Bosnija ir Hercegovina'}, {english: 'Botswana', lithuanian: 'Botsvana'}, {english: 'Brazil', lithuanian: 'Brazilija'}, {english: 'British-Virgin-Islands', lithuanian: 'Britanijos mergelių salos'}, {english: 'Brunei-', lithuanian: 'Brunėjus'}, {english: 'Bulgaria', lithuanian: 'Bulgarija'}, {english: 'Burkina-Faso', lithuanian: 'Burkina Fasas'}, {english: 'CAR', lithuanian: 'Centrinė Afrikos Respublika'}, {english: 'Cabo-Verde', lithuanian: 'Žaliasis Kyšulys'}, {english: 'Cambodia', lithuanian: 'Kambodža'}, {english: 'Cameroon', lithuanian: 'Kamerūnas'}, {english: 'Canada', lithuanian: 'Kanada'}, {english: 'Cayman-Islands', lithuanian: 'Kaimanų salos'}, {english: 'Chad', lithuanian: 'Čadas'}, {english: 'Channel-Islands', lithuanian: 'Kanalo salos'}, {english: 'Chile', lithuanian: 'Čilė'}, {english: 'China', lithuanian: 'Kinija'}, {english: 'Colombia', lithuanian: 'Kolumbija'}, {english: 'Congo', lithuanian: 'Kongas'}, {english: 'Costa-Rica', lithuanian: 'Kosta Rika'}, {english: 'Croatia', lithuanian: 'Kroatija'}, {english: 'Cuba', lithuanian: 'Kuba'}, {english: 'Curaçao', lithuanian: 'Kiurasao'}, {english: 'Cyprus', lithuanian: 'Kipras'}, {english: 'Czechia', lithuanian: 'Čekija'}, {english: 'DRC', lithuanian: 'Kongo Demokratinė Respublika'}, {english: 'Denmark', lithuanian: 'Danija'}, {english: 'Diamond-Princess-', lithuanian: 'laivas'}, {english: 'Djibouti', lithuanian: 'Džibutis'}, {english: 'Dominica', lithuanian: 'Dominika'}, {english: 'Dominican-Republic', lithuanian: 'Dominikos Respublika'}, {english: 'Ecuador', lithuanian: 'Ekvadoras'}, {english: 'Egypt', lithuanian: 'Egiptas'}, {english: 'El-Salvador', lithuanian: 'Salvadoras'}, {english: 'Equatorial-Guinea', lithuanian: 'Pusiaujo Gvinėja'}, {english: 'Eritrea', lithuanian: 'Eritrėja'}, {english: 'Estonia', lithuanian: 'Estija'}, {english: 'Eswatini', lithuanian: 'Svazilandas'}, {english: 'Ethiopia', lithuanian: 'Etiopija'}, {english: 'Faeroe-Islands', lithuanian: 'Farerų salos'}, {english: 'Fiji', lithuanian: 'Fidžis'}, {english: 'Finland', lithuanian: 'Suomija'}, {english: 'France', lithuanian: 'Prancūzija'}, {english: 'French-Guiana', lithuanian: 'Prancūzijos Gviana'}, {english: 'French-Polynesia', lithuanian: 'Prancūzų Polinezija'}, {english: 'Gabon', lithuanian: 'Gabonas'}, {english: 'Gambia', lithuanian: 'Gambija'}, {english: 'Georgia', lithuanian: 'Gruzija'}, {english: 'Germany', lithuanian: 'Vokietija'}, {english: 'Ghana', lithuanian: 'Gana'}, {english: 'Gibraltar', lithuanian: 'Gibraltaras'}, {english: 'Greece', lithuanian: 'Graikija'}, {english: 'Greenland', lithuanian: 'Grenlandija'}, {english: 'Grenada', lithuanian: 'Grenada'}, {english: 'Guadeloupe', lithuanian: 'Gvadelupa'}, {english: 'Guam', lithuanian: 'Guamas'}, {english: 'Guatemala', lithuanian: 'Gvatemala'}, {english: 'Guinea', lithuanian: 'Gvinėja'}, {english: 'Guinea-Bissau', lithuanian: 'Bisau Gvinėja'}, {english: 'Guyana', lithuanian: 'Gajana'}, {english: 'Haiti', lithuanian: 'Haitis'}, {english: 'Honduras', lithuanian: 'Hondūras'}, {english: 'Hong-Kong', lithuanian: 'Honkongas'}, {english: 'Hungary', lithuanian: 'Vengrija'}, {english: 'Iceland', lithuanian: 'Islandija'}, {english: 'India', lithuanian: 'Indija'}, {english: 'Indonesia', lithuanian: 'Indonezija'}, {english: 'Iran', lithuanian: 'Iranas'}, {english: 'Iraq', lithuanian: 'Irakas'}, {english: 'Ireland', lithuanian: 'Airija'}, {english: 'Isle-of-Man', lithuanian: 'Meno sala'}, {english: 'Israel', lithuanian: 'Izraelis'}, {english: 'Italy', lithuanian: 'Italija'}, {english: 'Ivory-Coast', lithuanian: 'Dramblio kaulo krantas'}, {english: 'Jamaica', lithuanian: 'Jamaika'}, {english: 'Japan', lithuanian: 'Japonija'}, {english: 'Jordan', lithuanian: 'Jordanija'}, {english: 'Kazakhstan', lithuanian: 'Kazachstanas'}, {english: 'Kenya', lithuanian: 'Kenija'}, {english: 'Kuwait', lithuanian: 'Kuveitas'}, {english: 'Kyrgyzstan', lithuanian: 'Kirgizija'}, {english: 'Laos', lithuanian: 'Laosas'}, {english: 'Latvia', lithuanian: 'Latvija'}, {english: 'Lebanon', lithuanian: 'Libanas'}, {english: 'Liberia', lithuanian: 'Liberija'}, {english: 'Libya', lithuanian: 'Libija'}, {english: 'Liechtenstein', lithuanian: 'Lichtenšteinas'}, {english: 'Lithuania', lithuanian: 'Lietuva'}, {english: 'Luxembourg', lithuanian: 'Liuksemburgas'}, {english: 'MS-Zaandam', lithuanian: 'laivas'}, {english: 'MS-Zaandam-', lithuanian: 'laivas'}, {english: 'Macao', lithuanian: 'Makau'}, {english: 'Madagascar', lithuanian: 'Madagaskaras'}, {english: 'Malaysia', lithuanian: 'Malaizija'}, {english: 'Maldives', lithuanian: 'Maldyvai'}, {english: 'Mali', lithuanian: 'Malis'}, {english: 'Malta', lithuanian: 'Malta'}, {english: 'Martinique', lithuanian: 'Martinika'}, {english: 'Mauritania', lithuanian: 'Mauritanija'}, {english: 'Mauritius', lithuanian: 'Mauricijus'}, {english: 'Mayotte', lithuanian: 'Majotas'}, {english: 'Mexico', lithuanian: 'Meksika'}, {english: 'Moldova', lithuanian: 'Moldova'}, {english: 'Monaco', lithuanian: 'Monakas'}, {english: 'Mongolia', lithuanian: 'Mongolija'}, {english: 'Montenegro', lithuanian: 'Juodkalnija'}, {english: 'Montserrat', lithuanian: ''}, {english: 'Morocco', lithuanian: 'Marokas'}, {english: 'Mozambique', lithuanian: 'Mozambikas'}, {english: 'Myanmar', lithuanian: ''}, {english: 'Namibia', lithuanian: ''}, {english: 'Nepal', lithuanian: 'Nepalas'}, {english: 'Netherlands', lithuanian: 'Olandija'}, {english: 'New-Caledonia', lithuanian: ''}, {english: 'New-Zealand', lithuanian: 'Naujoji Zelandija'}, {english: 'Nicaragua', lithuanian: 'Nikaragva'}, {english: 'Niger', lithuanian: ''}, {english: 'Nigeria', lithuanian: ''}, {english: 'North-Macedonia', lithuanian: 'Šiaurės Makedonija'}, {english: 'Norway', lithuanian: 'Norvegija'}, {english: 'Oman', lithuanian: ''}, {english: 'Pakistan', lithuanian: ''}, {english: 'Palestine', lithuanian: ''}, {english: 'Panama', lithuanian: ''}, {english: 'Papua-New-Guinea', lithuanian: ''}, {english: 'Paraguay', lithuanian: ''}, {english: 'Peru', lithuanian: ''}, {english: 'Philippines', lithuanian: ''}, {english: 'Poland', lithuanian: 'Lenkija'}, {english: 'Portugal', lithuanian: 'Portugalija'}, {english: 'Puerto-Rico', lithuanian: ''}, {english: 'Qatar', lithuanian: ''}, {english: 'Réunion', lithuanian: 'Reunionas'}, {english: 'Romania', lithuanian: 'Rumunija'}, {english: 'Russia', lithuanian: 'Rusija'}, {english: 'Rwanda', lithuanian: ''}, {english: 'S.-Korea', lithuanian: 'Pietų Korėja'}, {english: 'Saint-Kitts-and-Nevis', lithuanian: ''}, {english: 'Saint-Lucia', lithuanian: ''}, {english: 'Saint-Martin', lithuanian: ''}, {english: 'San-Marino', lithuanian: ''}, {english: 'Saudi-Arabia', lithuanian: ''}, {english: 'Senegal', lithuanian: ''}, {english: 'Serbia', lithuanian: ''}, {english: 'Seychelles', lithuanian: ''}, {english: 'Singapore', lithuanian: ''}, {english: 'Sint-Maarten', lithuanian: ''}, {english: 'Slovakia', lithuanian: ''}, {english: 'Slovenia', lithuanian: ''}, {english: 'Somalia', lithuanian: ''}, {english: 'South-Africa', lithuanian: 'Pietų Afrika'}, {english: 'Spain', lithuanian: 'Ispanija'}, {english: 'Sri-Lanka', lithuanian: ''}, {english: 'St.-Barth', lithuanian: ''}, {english: 'St.-Vincent-Grenadines', lithuanian: ''}, {english: 'Sudan', lithuanian: ''}, {english: 'Suriname', lithuanian: ''}, {english: 'Sweden', lithuanian: 'Švedija'}, {english: 'Switzerland', lithuanian: 'Šveicarija'}, {english: 'Syria', lithuanian: ''}, {english: 'Taiwan', lithuanian: ''}, {english: 'Tanzania', lithuanian: ''}, {english: 'Thailand', lithuanian: ''}, {english: 'Timor-Leste', lithuanian: ''}, {english: 'Togo', lithuanian: ''}, {english: 'Trinidad-and-Tobago', lithuanian: ''}, {english: 'Tunisia', lithuanian: ''}, {english: 'Turkey', lithuanian: 'Turkija'}, {english: 'Turks-and-Caicos', lithuanian: ''}, {english: 'U.S.-Virgin-Islands', lithuanian: 'Mergelių Salos'}, {english: 'UAE', lithuanian: 'Jungtiniai Arabų Emyratai'}, {english: 'UK', lithuanian: 'Jungtinė Karalystė'}, {english: 'USA', lithuanian: 'JAV'}, {english: 'Uganda', lithuanian: ''}, {english: 'Ukraine', lithuanian: 'Ukraina'}, {english: 'Uruguay', lithuanian: ''}, {english: 'Uzbekistan', lithuanian: ''}, {english: 'Vatican-City', lithuanian: ''}, {english: 'Venezuela', lithuanian: ''}, {english: 'Vietnam', lithuanian: ''}, {english: 'World', lithuanian: 'Pasaulis'},  {english: 'Zambia', lithuanian: ''}, {english: 'Zimbabwe', lithuanian: ''}];
var tableTag = document.getElementById('table');


var data = null;

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
	if (this.readyState === this.DONE) {
		console.log(JSON.parse(this.responseText).response.filter(r => r.cases.total > 100000));
		let responseNormal = JSON.parse(this.responseText).response;
		responseNormal.sort((r1, r2) => r2.cases.total - r1.cases.total);
		//responseNormal.shift();

		//delete from
		//for (let i = 0; i < responseNormal.length; i++) {
		//	responseNormal.sort((r1, r2) => r1.country > r2.country ? 1 : -1);
		//	document.querySelector('body').innerHTML += "{english: '" + responseNormal[i].country + "', lithuanian: ''}, ";
		//}
		//delete to

		for (let i = 0; i < responseNormal.length; i++) {
			let responseLine = responseNormal[i];
       			if (responseLine.country.startsWith('-') || responseLine.country == 'Europe' || responseLine.country == 'North-America' || responseLine.country == 'Asia' || responseLine.country == 'Africa' || responseLine.country == 'South-America' || responseLine.country.endsWith('rincess-') || responseLine.country.endsWith('-')) {
       				//čia liktais žemynai prasideda
       				continue;
       			}

			let trNew = document.createElement('tr');
   			trNew.addEventListener('click', function() {
   				writeHistory(responseLine.country);
   				window.location.href = '#history-lithuanian';
   			});
			trNew.id = responseLine.country;

			let tdNew = document.createElement('td');
			let tdNew2 = document.createElement('td');
			let tdDeathsTotal = document.createElement('td');
			let tdRecovered = document.createElement('td');

			tdNew.textContent = responseLine.country;

			if (tdNew.textContent == 'All' || tdNew.textContent == 'World') {
				trNew.style.color = 'red';
			}

			tdNew2.textContent = responseLine.cases.total;
			tdDeathsTotal.textContent = responseLine.deaths.total;
			tdRecovered.textContent = responseLine.cases.recovered;

			trNew.appendChild(tdNew);
			trNew.appendChild(tdNew2);
			trNew.appendChild(tdDeathsTotal);
			trNew.appendChild(tdRecovered);

			//addding lithuanian translation start
			let minIndex = 0;
			let maxIndex = countries.length - 1;

			while (true) {
				let middleIndex = parseInt((minIndex + maxIndex) / 2);
       			    	if (countries[middleIndex].english == responseLine.country) {
                                        if (countries[middleIndex].lithuanian == '') {break;}
					tdNew.textContent += '/' + countries[middleIndex].lithuanian;
					break;
				} else if (minIndex >= maxIndex) {
					break;
				} else if (countries[middleIndex].english < responseLine.country) {
					minIndex = middleIndex + 1;
				} else {
					maxIndex = middleIndex - 1;
				}
			}
			//addding lithuanian translation end

			if (responseLine.country == 'Lithuania') {
				trNew.style.color = 'red';
				trNew.style.border = '3px solid blue';
				document.getElementById('lithuania').innerHTML = 'Lietuvoje iš viso atvejų: <span style="text-shadow: 0px 1px, 1px 0px, 1px 1px; font-size: 1.2em;">' + responseLine.cases.total + '</span>.<br>Šiuo metu serga: '
					+ responseLine.cases.active + '.<br>Iš viso mirčių: ' + responseLine.deaths.total + '.<br>Iš viso pasveiko: ' + responseLine.cases.recovered + '.';
			}

			tableTag.appendChild(trNew);
		}
		document.getElementById('filter-countries').style.display = 'inline-block';

	}
});

xhr.open("GET", "https://covid-193.p.rapidapi.com/statistics");
xhr.setRequestHeader("x-rapidapi-host", "covid-193.p.rapidapi.com");
xhr.setRequestHeader("x-rapidapi-key", "116908dfb6msh3f97dbaf0aa4af8p1fcef7jsn502b466da50c");

xhr.send(data);

let filterCountriesInput = document.getElementById('filter-countries');
filterCountriesInput.addEventListener('input', function() {
	let tableLines = tableTag.childNodes;
	let textInputed = filterCountriesInput.value;
	filterCountriesInput.value = textInputed.toUpperCase();

	//i start 3, nes pirma kazkas ten, vėliau stulpelių pavadinimai, vėliau visos šalys ir tik tada šalys po vieną
	for (let i = 3; i < tableLines.length; i++) {
		let countryName = tableLines[i].firstElementChild.innerText;
			
		if (textInputed == '' || countryName.toLowerCase().includes(textInputed.toLowerCase())) {
			tableLines[i].style.display = 'table-row';
		} else {
			tableLines[i].style.display = 'none';
		}
	}



});

       //history lithuanian
writeHistory('Lithuania');
function writeHistory(country) {
	console.log('aaaaa');
       var data2 = null;

var xhr2 = new XMLHttpRequest();
xhr2.withCredentials = true;

xhr2.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
                console.log(this.responseText);
                let historyLithuanian = JSON.parse(this.responseText).response;
		
		let historyLithuanianTag = document.getElementById('history-lithuanian');
		historyLithuanianTag.textContent = '                                  Istorija(' + country + ')\n';
		historyLithuanianTag.addEventListener('click', function() {
			window.location.href = '#' + country;	
		});
		historyLithuanianTag.title = "Paspauskite čia, kad atsidurtumėt ties lentelė vieta, kurioje šalis yra: " + country + '.';

                for (let i = 0; i < historyLithuanian.length; i++) {
     			//if (i != 0 && historyLithuanian[i].day == historyLithuanian[i - 1].day) {
			//	continue;
     			//}
			let currentLine = historyLithuanian[i];
                        historyLithuanianTag.textContent = historyLithuanianTag.textContent + changeCurrentLineTimeString(currentLine.time) + '. Iš viso atvejų: '
				+ currentLine.cases.total + '. Mirčių: ' + currentLine.deaths.total + (currentLine.tests.total != null ? ('. Atliktų testų: '
					+ currentLine.tests.total) : '.') + '\n';
                }
        }
});

function changeCurrentLineTimeString(t) {
	return t.replace('T', ' ').replace('+00:00', '');
}

xhr2.open("GET", "https://covid-193.p.rapidapi.com/history?country=" + country.toLowerCase());
xhr2.setRequestHeader("x-rapidapi-host", "covid-193.p.rapidapi.com");
xhr2.setRequestHeader("x-rapidapi-key", "116908dfb6msh3f97dbaf0aa4af8p1fcef7jsn502b466da50c");

xhr2.send(data2);

}


</script>

<style>
table, td, th {
	border: 2px solid black;
	font-size: 1.2em;
	font-weight: 600;
	border-collapse: collapse;
}

td, th {
	padding: 4px;
}

tr:not(:first-child):hover {
	background-color: black !important;
	color: white;
	cursor: pointer;
}

th:first-child {
	width: 50%;
}

table {
	width: 100%;
}

h1, h2, h3, h4, h5, h6 {
	text-align: center;
}

#filter-countries {
	margin-bottom: 5px;
	width: 40%;
	display: none;
	font-size: 1.3em;
}

::placeholder {
	font-size: 1.3em;
}

#history-lithuanian {
	font-size: 2em;
	background-color: rgb(255, 240, 240);
	cursor: pointer;
}

tr:first-child {
	font-size: 1.3em;
}
</style>
